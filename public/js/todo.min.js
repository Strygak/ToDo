angular.module("app",["ngRoute","ui.bootstrap"]);function config(e,r){e.when("/",{templateUrl:"/home/home.html",controller:"homeCtrl"}).when("/record/:recordid",{templateUrl:"recordDetail/recordDetail.view.html",controller:"recordCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});r.html5Mode(true)}angular.module("app").config(["$routeProvider","$locationProvider",config]);(function(){angular.module("app").controller("modalCtrl",e);e.$inject=["$scope","$uibModalInstance","todoData"];function e(e,r,o){e.formError="";e.onSubmit=function(){if(e.formData.title.length>17){e.formError="more than 17 characters";return false}else{o.recordCreate(e.formData).success(function(r){e.close(r)}).error(function(r){e.formError="Please try again"});return false}};e.close=function(e){r.close(e)};e.cancel=function(){r.dismiss("cancel")}}})();(function(){e.$inject=["$scope","$uibModalInstance","$routeParams","todoData","recordData"];function e(e,r,o,t,n){e.recordData=n;e.onUpdate=function(){if(e.recordData.title.length>17){e.formError="more than 17 characters";return false}else{t.updateOne(e.recordData.recordid,e.recordData).success(function(r){e.close(r)}).error(function(r){e.formError="Please try again"});return false}};e.close=function(e){r.close(e)};e.cancel=function(){r.dismiss("cancel")}}angular.module("app").controller("updateCtrl",e)})();(function(){angular.module("app").controller("recordCtrl",e);e.$inject=["$scope","$routeParams","todoData"];function e(e,r,o){var t=this;t.recordid=r.recordid;t.pageHeader={title:t.recordid};o.readOne(t.recordid).success(function(e){t.data={record:e};t.pageHeader={title:t.data.record.title,description:t.data.record.description}}).error(function(e){console.log(e)})}})();(function(){e.$inject=["$scope","$uibModal","todoData"];function e(e,r,o){o.recordAll().success(function(r){e.data={records:r};if(e.data.records[0]){e.on=false}else{e.on=true}}).error(function(r){e.formError="No records"});e.createTask=function(){var o=r.open({templateUrl:"/modalForm/modalForm.view.html",controller:"modalCtrl"});o.result.then(function(r){e.data.records.push(r);e.on=false})};e.correctTask=function(t,n,a){var c=r.open({templateUrl:"/updateModalForm/updateModalForm.html",controller:"updateCtrl",resolve:{recordData:function(){return{recordid:t,title:n,description:a}}}});c.result.then(function(r){o.recordAll().success(function(r){e.data={records:r};if(e.data.records[0]){e.on=false}else{e.on=true}}).error(function(r){e.message="There is no records"})})};e.deleteTask=function(r){o.deleteOne(r).success(function(r){console.log(r);o.recordAll().success(function(r){e.data={records:r};if(e.data.records[0]){e.on=false}else{e.on=true}}).error(function(r){e.message="There is no records"})}).error(function(e){console.log(e)})}}angular.module("app").controller("homeCtrl",e)})();angular.module("app").directive("footerGeneric",footerGeneric);function footerGeneric(){return{restrict:"EA",templateUrl:"common/directives/footerDirective/footerDirective.html"}}angular.module("app").directive("pageHeader",pageHeader);function pageHeader(){return{restrict:"EA",templateUrl:"common/directives/pageHeader/pageHeader.html"}}(function(){angular.module("app").service("todoData",e);e.$inject=["$http"];function e(e){var r=function(r){return e.post("api/record",r)};var o=function(){return e.get("api/records")};var t=function(r){return e.get("api/record/"+r)};var n=function(r,o){return e.put("api/record/"+r,o)};var a=function(r){return e.delete("api/record/"+r)};return{recordCreate:r,recordAll:o,readOne:t,updateOne:n,deleteOne:a}}})();