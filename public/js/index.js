!function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=11)}([function(e,r){!function(){function e(e,r){var t=function(e){r.localStorage["todo-Token"]=e},o=function(){return r.localStorage["todo-Token"]};register=function(r){return e.post("api/register",r).success(function(e){t(e.token)})},login=function(r){return e.post("api/login",r).success(function(e){t(e.token)})},logout=function(){r.localStorage.removeItem("todo-Token")};var n=function(){var e=o();return!!e&&JSON.parse(r.atob(e.split(".")[1])).exp>Date.now()/1e3};return{saveToken:t,getToken:o,register:register,login:login,logout:logout,currentUser:function(){if(n()){var e=o(),t=JSON.parse(r.atob(e.split(".")[1]));return{email:t.email,name:t.name}}},isLoggedIn:n}}angular.module("app").service("authentication",e),e.$inject=["$http","$window"]}()},function(e,r){!function(){function e(e,r){return{recordCreate:function(t){return e.post("api/record",t,{headers:{Authorization:"Bearer "+r.getToken()}})},recordAll:function(r){return e.get("api/records",r)},readOne:function(t){return e.get("api/record/"+t,{headers:{Authorization:"Bearer "+r.getToken()}})},updateOne:function(t,o){return e.put("api/record/"+t,o,{headers:{Authorization:"Bearer "+r.getToken()}})},deleteOne:function(t){return e.delete("api/record/"+t,{headers:{Authorization:"Bearer "+r.getToken()}})}}}angular.module("app").service("todoData",e),e.$inject=["$http","authentication"]}()},function(e,r){!function(){function e(e,r,t,o){var n=this;n.currentUser=o.currentUser(),t.recordAll(n.currentUser).success(function(e){n.data={records:e},n.data.records[0]?n.on=!1:n.on=!0}).error(function(e){n.formError="No records"}),n.createTask=function(){r.open({templateUrl:"/modalForm/modalForm.view.html",controller:"modalCtrl"}).result.then(function(e){n.data.records.push(e),n.on=!1})},n.correctTask=function(e,o,a){r.open({templateUrl:"/updateModalForm/updateModalForm.html",controller:"updateCtrl",resolve:{recordData:function(){return{recordid:e,title:o,description:a}}}}).result.then(function(e){t.recordAll(n.currentUser).success(function(e){n.data={records:e},n.data.records[0]?n.on=!1:n.on=!0}).error(function(e){n.message="There is no records"})})},n.deleteTask=function(e){t.deleteOne(e).success(function(e){console.log(e),t.recordAll(n.currentUser).success(function(e){n.data={records:e},n.data.records[0]?n.on=!1:n.on=!0}).error(function(e){n.message="There is no records"})}).error(function(e){console.log(e)})},n.logout=function(){o.logout(),e.path("/")}}e.$inject=["$location","$uibModal","todoData","authentication"],angular.module("app").controller("homeCtrl",e)}()},function(e,r){angular.module("app").directive("pageHeader",function(){return{restrict:"EA",templateUrl:"common/directives/pageHeader/pageHeader.html"}})},function(e,r){angular.module("app").directive("footerGeneric",function(){return{restrict:"EA",templateUrl:"common/directives/footerDirective/footerDirective.html"}})},function(e,r){!function(){function e(e,r){var t=this;t.credentials={email:"",password:""},t.onSubmit=function(){if(t.formError="",!t.credentials.email||!t.credentials.password)return t.formError="All fields required, please try again",!1;t.doLogin()},t.doLogin=function(){t.formError="",r.login(t.credentials).error(function(e){t.formError=e}).then(function(){e.path("/home")})}}angular.module("app").controller("loginCtrl",e),e.$inject=["$location","authentication"]}()},function(e,r){!function(){function e(e,r){var t=this;t.credentials={name:"",email:"",password:""},t.onSubmit=function(){if(t.formError="",!(t.credentials.name&&t.credentials.email&&t.credentials.password))return t.formError="All fields required, please try again",!1;t.doRegister()},t.doRegister=function(){t.formError="",r.register(t.credentials).error(function(e){t.formError=e}).then(function(){e.path("/home")})}}angular.module("app").controller("registerCtrl",e),e.$inject=["$location","authentication"]}()},function(e,r){!function(){function e(e,r,t){var o=this;o.recordid=r.recordid,o.pageHeader={title:o.recordid},t.readOne(o.recordid).success(function(e){o.data={record:e},o.pageHeader={title:o.data.record.title,description:o.data.record.description}}).error(function(e){console.log(e)})}angular.module("app").controller("recordCtrl",e),e.$inject=["$scope","$routeParams","todoData"]}()},function(e,r){!function(){function e(e,r,t,o,n){e.recordData=n,e.onUpdate=function(){return e.recordData.title.length>17?(e.formError="more than 17 characters",!1):(o.updateOne(e.recordData.recordid,e.recordData).success(function(r){e.close(r)}).error(function(r){e.formError="Please try again"}),!1)},e.close=function(e){r.close(e)},e.cancel=function(){r.dismiss("cancel")}}e.$inject=["$scope","$uibModalInstance","$routeParams","todoData","recordData"],angular.module("app").controller("updateCtrl",e)}()},function(e,r){!function(){function e(e,r,t,o){e.formError="",e.currentUser=o.currentUser(),e.onSubmit=function(){return e.formData.title.length>17?(e.formError="more than 17 characters",!1):(e.formData.email=e.currentUser.email,t.recordCreate(e.formData).success(function(r){e.close(r)}).error(function(r){e.formError="Please try again"}),!1)},e.close=function(e){r.close(e)},e.cancel=function(){r.dismiss("cancel")}}angular.module("app").controller("modalCtrl",e),e.$inject=["$scope","$uibModalInstance","todoData","authentication"]}()},function(e,r){angular.module("app",["ngRoute","ui.bootstrap"]),angular.module("app").config(["$routeProvider","$locationProvider",function(e,r){e.when("/",{templateUrl:"/startPage/start.html"}).when("/record/:recordid",{templateUrl:"/recordDetail/recordDetail.view.html",controller:"recordCtrl",controllerAs:"vm"}).when("/register",{templateUrl:"/auth/register/register.view.html",controller:"registerCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"/auth/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/home",{templateUrl:"/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"}),r.html5Mode(!0)}])},function(e,r,t){t(10),t(9),t(8),t(7),t(6),t(5),t(4),t(3),t(2),t(1),e.exports=t(0)}]);